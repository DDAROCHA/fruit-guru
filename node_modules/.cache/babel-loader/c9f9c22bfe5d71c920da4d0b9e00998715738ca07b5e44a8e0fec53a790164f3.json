{"ast":null,"code":"import React,{useState}from\"react\";import{runFlow,getRespuestaPorCodigo}from\"../services/backend\";import{Spinner}from\"../Components/Spinner/Spinner\";import{Input}from\"../Components/Input/Input\";import\"./Home.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function Home(){const[answer,setAnswer]=useState(\"\");const[loading,setLoading]=useState(false);const handleAsk=async question=>{if(!question.trim()){alert(\"Please enter a question.\");return;}const codigo=Date.now().toString();// üîπ c√≥digo √∫nico\nsetLoading(true);setAnswer(\"\");try{await runFlow(question,codigo);// üîπ Polling cada 2s hasta encontrar respuesta\nconst checkInterval=setInterval(async()=>{const registro=await getRespuestaPorCodigo(codigo);if(registro){clearInterval(checkInterval);setAnswer(registro.Respuesta||\"No response found.\");setLoading(false);}},2000);}catch(err){console.error(\"Error running flow:\",err.message);setAnswer(\"There was an error getting the response\");setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page1-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF4E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF4C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF47\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF4A\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF53\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF4D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83E\\uDD5D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF51\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF49\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF52\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF4B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF48\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83E\\uDD6D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fruit\",children:\"\\uD83C\\uDF4F\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Ask me anything about fruits\"}),/*#__PURE__*/_jsx(Input,{onSubmit:handleAsk}),/*#__PURE__*/_jsx(\"div\",{className:\"page1-block\",children:loading?/*#__PURE__*/_jsx(Spinner,{text:\"Thinking...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"page1-line\",dangerouslySetInnerHTML:{__html:answer}})})]});}","map":{"version":3,"names":["React","useState","runFlow","getRespuestaPorCodigo","Spinner","Input","jsx","_jsx","jsxs","_jsxs","Home","answer","setAnswer","loading","setLoading","handleAsk","question","trim","alert","codigo","Date","now","toString","checkInterval","setInterval","registro","clearInterval","Respuesta","err","console","error","message","className","children","onSubmit","text","dangerouslySetInnerHTML","__html"],"sources":["D:/00-DESARROLLO/REACT/Training/PORTFOLIO/fruit-guru/src/Pages/Home.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { runFlow, getRespuestaPorCodigo } from \"../services/backend\";\r\nimport { Spinner } from \"../Components/Spinner/Spinner\";\r\nimport { Input } from \"../Components/Input/Input\";\r\nimport \"./Home.css\";\r\n\r\nexport function Home() {\r\n  const [answer, setAnswer] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleAsk = async (question) => {\r\n    if (!question.trim()) {\r\n      alert(\"Please enter a question.\");\r\n      return;\r\n    }\r\n\r\n    const codigo = Date.now().toString(); // üîπ c√≥digo √∫nico\r\n    setLoading(true);\r\n    setAnswer(\"\");\r\n\r\n    try {\r\n      await runFlow(question, codigo);\r\n\r\n      // üîπ Polling cada 2s hasta encontrar respuesta\r\n      const checkInterval = setInterval(async () => {\r\n        const registro = await getRespuestaPorCodigo(codigo);\r\n        if (registro) {\r\n          clearInterval(checkInterval);\r\n          setAnswer(registro.Respuesta || \"No response found.\");\r\n          setLoading(false);\r\n        }\r\n      }, 2000);\r\n    } catch (err) {\r\n      console.error(\"Error running flow:\", err.message);\r\n      setAnswer(\"There was an error getting the response\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page1-container\">\r\n      {/* Frutas animadas de fondo */}\r\n      <div className=\"fruit\">üçé</div>\r\n      <div className=\"fruit\">üçå</div>\r\n      <div className=\"fruit\">üçá</div>\r\n      <div className=\"fruit\">üçä</div>\r\n      <div className=\"fruit\">üçì</div>\r\n      <div className=\"fruit\">üçç</div>\r\n      <div className=\"fruit\">ü•ù</div>\r\n      <div className=\"fruit\">üçë</div>\r\n      <div className=\"fruit\">üçâ</div>\r\n      <div className=\"fruit\">üçí</div>\r\n      <div className=\"fruit\">üçã</div>\r\n      <div className=\"fruit\">üçê</div>\r\n      <div className=\"fruit\">üçà</div>\r\n      <div className=\"fruit\">ü•≠</div>\r\n      <div className=\"fruit\">üçè</div>\r\n\r\n      <h4>Ask me anything about fruits</h4>\r\n\r\n      {/* Input para la pregunta */}\r\n      <Input onSubmit={handleAsk} />\r\n\r\n      {/* Recuadro de respuesta */}\r\n      <div className=\"page1-block\">\r\n        {loading ? (\r\n          <Spinner text=\"Thinking...\" />\r\n        ) : (\r\n          <div\r\n            className=\"page1-line\"\r\n            dangerouslySetInnerHTML={{ __html: answer }}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}